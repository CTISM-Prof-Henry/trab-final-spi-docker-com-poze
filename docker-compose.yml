stages:
  - validate

validate_structure:
  stage: validate
  image: alpine:latest
  script:
    - echo "ğŸš€ Iniciando validaÃ§Ã£o do projeto..."
    - echo ""
    - echo "ğŸ“ LISTA DE ARQUIVOS:"
    - ls -la
    - echo ""
    - echo "ğŸ“ BACKEND:"
    - ls -la backend/
    - echo ""
    - echo "ğŸ“ FRONTEND:"
    - ls -la frontend/
    - echo ""
    - echo "âœ… VERIFICAÃ‡ÃƒO DE ARQUIVOS OBRIGATÃ“RIOS:"
    - if [ -f "backend/Dockerfile" ]; then echo "âœ… backend/Dockerfile - OK"; else echo "âŒ backend/Dockerfile - FALTANDO"; exit 1; fi
    - if [ -f "frontend/Dockerfile" ]; then echo "âœ… frontend/Dockerfile - OK"; else echo "âŒ frontend/Dockerfile - FALTANDO"; exit 1; fi
    - if [ -f "docker-compose.yml" ]; then echo "âœ… docker-compose.yml - OK"; else echo "âŒ docker-compose.yml - FALTANDO"; exit 1; fi
    - if [ -f ".gitlab-ci.yml" ]; then echo "âœ… .gitlab-ci.yml - OK"; else echo "âŒ .gitlab-ci.yml - FALTANDO"; exit 1; fi
    - echo ""
    - echo "ğŸ‰ PARABÃ‰NS! TODOS OS ARQUIVOS ESTÃƒO PRESENTES!"
    - echo "ğŸ“ Estrutura validada com sucesso para o trabalho de Docker Swarm e CI/CD"
  only:
    - dev
    - main